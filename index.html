<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buscar Palavra-Chave em Site</title>
</head>
<body>
    <h1>Buscar Palavra-Chave em Site</h1>
    <form id="searchForm">
        <label for="urlInput">URL do Site:</label><br>
        <input type="text" id="urlInput" name="urlInput" required><br>
        <label for="keywordInput">Palavra-Chave:</label><br>
        <input type="text" id="keywordInput" name="keywordInput" required><br><br>
        <button type="submit">Buscar</button>
    </form>

    <div id="result"></div>

    <script>
        document.getElementById("searchForm").addEventListener("submit", function(event) {
            event.preventDefault();
            var url = document.getElementById("urlInput").value;
            var keyword = document.getElementById("keywordInput").value;

            fetch('proxy.php?url=' + encodeURIComponent(url))
            .then(response => response.text())
            .then(html => {
                var parser = new DOMParser();
                var doc = parser.parseFromString(html, "text/html");
                var bodyText = doc.body.innerText;
                
                if (bodyText.includes(keyword)) {
                    document.getElementById("result").innerHTML = "A palavra-chave foi encontrada no site.";
                } else {
                    document.getElementById("result").innerHTML = "A palavra-chave nÃ£o foi encontrada no site.";
                }
            })
            .catch(error => {
                document.getElementById("result").innerHTML = "Erro ao buscar o site: " + error;
            });
        });
    </script>
</body>
</html>
